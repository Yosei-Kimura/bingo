<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ“ãƒ³ã‚´å¤§ä¼šç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            margin: 10px 0;
            opacity: 0.9;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }

        .card-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
        }

        .card-description {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .card-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: background 0.3s;
            display: inline-block;
        }

        .btn:hover {
            background: #2980b9;
        }

        .btn.primary {
            background: #e74c3c;
            font-weight: bold;
        }

        .btn.primary:hover {
            background: #c0392b;
        }

        .btn.success {
            background: #27ae60;
        }

        .btn.success:hover {
            background: #229954;
        }

        .btn.warning {
            background: #f39c12;
        }

        .btn.warning:hover {
            background: #e67e22;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .status-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #3498db;
        }

        .status-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }

        .status-label {
            color: #666;
            font-size: 0.9em;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .quick-actions .btn {
            flex: 1;
            min-width: 120px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            color: #555;
        }

        .feature-list li:last-child {
            border-bottom: none;
        }

        .feature-list li::before {
            content: "âœ“ ";
            color: #27ae60;
            font-weight: bold;
            margin-right: 8px;
        }

        .alert {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .alert.info {
            background: #d1ecf1;
            color: #0c5460;
            border-color: #bee5eb;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .card {
                padding: 20px;
            }
            
            .quick-actions {
                flex-direction: column;
            }
            
            .quick-actions .btn {
                flex: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¯ ãƒ“ãƒ³ã‚´å¤§ä¼šç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼ ğŸ¯</h1>
        <p>å‘¨å¹´è¨˜å¿µãƒ“ãƒ³ã‚´å¤§ä¼šã®é‹å–¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </p>
        <p id="currentTime"></p>
    </div>

        <div class="alert info">
            <strong>ğŸ“¢ é‹å–¶ã‚¬ã‚¤ãƒ‰:</strong> 
            å„æ©Ÿèƒ½ã¯å·¦ã‹ã‚‰é †ç•ªã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã¾ãšç•ªå·ç®¡ç†ã§ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã€å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‚åŠ è€…ç”¨ã®ã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
        </div>

        <!-- ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="errorDisplay" style="display: none;" class="alert" style="background: #f8d7da; color: #721c24; border-color: #f5c6cb;">
            <strong>âš ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼:</strong>
            <div id="errorMessage"></div>
            <button onclick="dismissError()" style="margin-top: 10px; padding: 5px 10px; background: #dc3545; color: white; border: none; border-radius: 4px;">é–‰ã˜ã‚‹</button>
        </div>    <div class="dashboard">
        <!-- ç•ªå·ç®¡ç†ã‚«ãƒ¼ãƒ‰ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">ğŸ²</div>
                <div>
                    <div class="card-title">ç•ªå·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </div>
                </div>
            </div>
            <div class="card-description">
                ãƒ“ãƒ³ã‚´ç•ªå·ã®è¿½åŠ ãƒ»ç®¡ç†ã‚’è¡Œã„ã¾ã™ã€‚ã‚²ãƒ¼ãƒ ã®ä¸­å¿ƒã¨ãªã‚‹æ©Ÿèƒ½ã§ã™ã€‚
            </div>
            
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-number" id="calledNumbers">-</div>
                    <div class="status-label">å‘¼å‡ºæ¸ˆã¿ç•ªå·</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="gameStatus">-</div>
                    <div class="status-label">ã‚²ãƒ¼ãƒ çŠ¶æ…‹</div>
                </div>
            </div>

            <ul class="feature-list">
                <li>1-75ã®ç•ªå·ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã¾ãŸã¯æ‰‹å‹•ã§è¿½åŠ </li>
                <li>å‘¼ã³å‡ºã—å±¥æ­´ã®ç¢ºèª</li>
                <li>ç•ªå·ã®å‰Šé™¤ãƒ»ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½</li>
                <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹ç›£è¦–</li>
            </ul>

            <div class="card-buttons">
                <a href="index.html" class="btn primary">ğŸ¯ ç•ªå·ç®¡ç†ç”»é¢ã‚’é–‹ã</a>
                <a href="check.html" class="btn">ğŸ“‹ ç¢ºèªç”»é¢ã‚’é–‹ã</a>
            </div>
        </div>

        <!-- å‚åŠ è€…ç”¨è¡¨ç¤ºã‚«ãƒ¼ãƒ‰ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">ğŸ“º</div>
                <div>
                    <div class="card-title">å‚åŠ è€…ç”¨è¡¨ç¤º</div>
                </div>
            </div>
            <div class="card-description">
                å‚åŠ è€…ãŒç•ªå·ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®è¡¨ç¤ºç”»é¢ã§ã™ã€‚å¤§ç”»é¢ã§ã®æŠ•å½±ã«ã‚‚é©ã—ã¦ã„ã¾ã™ã€‚
            </div>

            <ul class="feature-list">
                <li>æœ€æ–°ã®å‘¼ã³å‡ºã—ç•ªå·ã‚’å¤§ããè¡¨ç¤º</li>
                <li>ã“ã‚Œã¾ã§ã®ç•ªå·ä¸€è¦§</li>
                <li>å‡ºãŸé †ãƒ»æ•°å­—é †ã®ä¸¦ã³æ›¿ãˆ</li>
                <li>è‡ªå‹•æ›´æ–°æ©Ÿèƒ½</li>
            </ul>

            <div class="card-buttons">
                <a href="../number_check/index.html" class="btn success">ğŸ“± å‚åŠ è€…ç”»é¢ã‚’é–‹ã</a>
            </div>
        </div>

        <!-- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ“ãƒ³ã‚´ã‚«ãƒ¼ãƒ‰ç®¡ç†ã‚«ãƒ¼ãƒ‰ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">ğŸ’»</div>
                <div>
                    <div class="card-title">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ“ãƒ³ã‚´ç®¡ç†</div>
                </div>
            </div>
            <div class="card-description">
                ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ãƒ“ãƒ³ã‚´ã‚’æ¥½ã—ã‚€å‚åŠ è€…ç”¨ã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚«ãƒ¼ãƒ‰ã‚’ç®¡ç†ã—ã¾ã™ã€‚
            </div>

            <div class="status-grid">
                <div class="status-item">
                    <div class="status-number" id="onlineCards">-</div>
                    <div class="status-label">ç™ºè¡Œæ¸ˆã¿ã‚«ãƒ¼ãƒ‰</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="activeUsers">-</div>
                    <div class="status-label">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                </div>
            </div>

            <ul class="feature-list">
                <li>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·ã•ã‚ŒãŸãƒ“ãƒ³ã‚´ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ</li>
                <li>A4å°åˆ·ç”¨QRã‚³ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ä½œæˆ</li>
                <li>å‚åŠ è€…çŠ¶æ³ã®ç›£è¦–</li>
                <li>ãƒ“ãƒ³ã‚´é”æˆè¨˜éŒ²ã®ç®¡ç†</li>
            </ul>

            <div class="card-buttons">
                <a href="#" onclick="accessOnlineManager()" class="btn warning">ğŸ” ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç®¡ç†ç”»é¢</a>
                <a href="../number_check/online-bingo.html" class="btn">ğŸ“± å‚åŠ è€…ç”¨ã‚«ãƒ¼ãƒ‰ç”»é¢</a>
            </div>
        </div>

        <!-- ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã‚«ãƒ¼ãƒ‰ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">âš™ï¸</div>
                <div>
                    <div class="card-title">ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</div>
                </div>
            </div>
            <div class="card-description">
                ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ç¢ºèªã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
            </div>

            <div class="status-grid">
                <div class="status-item">
                    <div class="status-number" id="dbStatus">-</div>
                    <div class="status-label">DBæ¥ç¶š</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="lastUpdate">-</div>
                    <div class="status-label">æœ€çµ‚æ›´æ–°</div>
                </div>
            </div>

            <ul class="feature-list">
                <li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šçŠ¶æ…‹</li>
                <li>ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®ç¢ºèª</li>
                <li>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½</li>
                <li>ã‚¨ãƒ©ãƒ¼ç›£è¦–</li>
            </ul>

            <div class="quick-actions">
                <button class="btn" onclick="checkSystemStatus()">ğŸ” çŠ¶æ…‹ç¢ºèª</button>
                <button class="btn" onclick="refreshData()">ğŸ”„ ãƒ‡ãƒ¼ã‚¿æ›´æ–°</button>
                <button class="btn warning" onclick="initializeTables()">ğŸ”§ ãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ–</button>
                <button class="btn" onclick="testAPI()">ğŸ§ª API ãƒ†ã‚¹ãƒˆ</button>
            </div>
        </div>
    </div>

    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="passwordModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 400px; width: 90%;">
            <h3 style="margin-top: 0; color: #333;">ğŸ” ç®¡ç†è€…èªè¨¼</h3>
            <p style="color: #666; margin-bottom: 20px;">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ“ãƒ³ã‚´ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚</p>
            <input type="password" id="adminPassword" placeholder="ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; box-sizing: border-box; margin-bottom: 20px;">
            <div style="display: flex; gap: 10px;">
                <button onclick="verifyPassword()" style="flex: 1; background: #3498db; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer;">ã‚¢ã‚¯ã‚»ã‚¹</button>
                <button onclick="closePasswordModal()" style="flex: 1; background: #95a5a6; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            </div>
            <div id="passwordError" style="color: #e74c3c; margin-top: 10px; display: none;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚</div>
        </div>
    </div>

    <script>
        // ç¾åœ¨æ™‚åˆ»ã®è¡¨ç¤º
        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = 
                now.toLocaleDateString('ja-JP', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric', 
                    weekday: 'long',
                    hour: '2-digit',
                    minute: '2-digit'
                });
        }

        // åˆæœŸåŒ–ã¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
        function initializeDashboard() {
            updateTime();
            setInterval(updateTime, 60000); // 1åˆ†ã”ã¨ã«æ›´æ–°
            loadDashboardData();
        }

        // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
        async function loadDashboardData() {
            try {
                // ç•ªå·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹
                try {
                    const numberResponse = await fetch('../api/get-data.php');
                    const numberData = await numberResponse.json();
                    
                    if (numberData.success) {
                        document.getElementById('calledNumbers').textContent = numberData.totalCount;
                        document.getElementById('gameStatus').textContent = 
                            numberData.gameStatus === 'active' ? 'é€²è¡Œä¸­' : 'å¾…æ©Ÿä¸­';
                    } else {
                        console.error('Number data error:', numberData.error);
                        document.getElementById('calledNumbers').textContent = '0';
                        document.getElementById('gameStatus').textContent = 'å¾…æ©Ÿä¸­';
                    }
                } catch (error) {
                    console.error('Number API error:', error);
                    document.getElementById('calledNumbers').textContent = '0';
                    document.getElementById('gameStatus').textContent = 'ã‚¨ãƒ©ãƒ¼';
                }

                // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ“ãƒ³ã‚´ã®çµ±è¨ˆ
                try {
                    console.log('Fetching stats from:', '../api/admin-stats.php');
                    const statsResponse = await fetch('../api/admin-stats.php');
                    console.log('Stats response status:', statsResponse.status);
                    
                    if (!statsResponse.ok) {
                        throw new Error(`HTTP ${statsResponse.status}: ${statsResponse.statusText}`);
                    }
                    
                    const statsData = await statsResponse.json();
                    console.log('Stats data:', statsData);
                    
                    if (statsData.success) {
                        document.getElementById('onlineCards').textContent = statsData.stats.total_cards;
                        document.getElementById('activeUsers').textContent = statsData.stats.recent_access;
                    } else {
                        console.error('Stats data error:', statsData.error);
                        document.getElementById('onlineCards').textContent = '0';
                        document.getElementById('activeUsers').textContent = '0';
                    }
                } catch (error) {
                    console.error('Stats API error:', error);
                    document.getElementById('onlineCards').textContent = '0';
                    document.getElementById('activeUsers').textContent = '0';
                    showError('ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ“ãƒ³ã‚´çµ±è¨ˆã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message);
                }

                // ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹
                document.getElementById('dbStatus').textContent = 'æ­£å¸¸';
                document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString('ja-JP');

            } catch (error) {
                console.error('Dashboard data loading error:', error);
                document.getElementById('dbStatus').textContent = 'ã‚¨ãƒ©ãƒ¼';
            }
        }

        // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç®¡ç†ç”»é¢ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
        function accessOnlineManager() {
            document.getElementById('passwordModal').style.display = 'block';
            document.getElementById('adminPassword').focus();
        }

        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
        function verifyPassword() {
            const password = document.getElementById('adminPassword').value;
            const correctPassword = 'love_kf';
            
            if (password === correctPassword) {
                closePasswordModal();
                window.open('online-bingo-manager.html', '_blank');
            } else {
                document.getElementById('passwordError').style.display = 'block';
                document.getElementById('adminPassword').value = '';
                document.getElementById('adminPassword').focus();
            }
        }

        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
            document.getElementById('adminPassword').value = '';
            document.getElementById('passwordError').style.display = 'none';
        }

        // ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('adminPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyPassword();
                }
            });
        });

        // ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
        function checkSystemStatus() {
            alert('ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹: æ­£å¸¸\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: æ¥ç¶šä¸­\næœ€çµ‚æ›´æ–°: ' + new Date().toLocaleString('ja-JP'));
        }

        // ãƒ‡ãƒ¼ã‚¿æ›´æ–°
        function refreshData() {
            loadDashboardData();
            alert('ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ');
        }

        // ãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ–
        async function initializeTables() {
            if (!confirm('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’åˆæœŸåŒ–ã—ã¾ã™ã‹ï¼Ÿ\nï¼ˆæ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒã•ã‚Œã¾ã™ï¼‰')) {
                return;
            }
            
            try {
                const response = await fetch('../api/init-tables.php', {
                    method: 'POST'
                });
                const data = await response.json();
                
                if (data.success) {
                    alert('ãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ–å®Œäº†:\n' + data.tables_created.join('\n'));
                    loadDashboardData();
                } else {
                    alert('ã‚¨ãƒ©ãƒ¼: ' + data.error);
                }
            } catch (error) {
                alert('åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ' + error.message);
            }
        }

        // API ãƒ†ã‚¹ãƒˆ
        async function testAPI() {
            const results = [];
            
            // get-data.php ãƒ†ã‚¹ãƒˆ
            try {
                const response = await fetch('../api/get-data.php');
                const data = await response.json();
                results.push(`get-data.php: ${data.success ? 'æˆåŠŸ' : 'ã‚¨ãƒ©ãƒ¼ - ' + data.error}`);
            } catch (error) {
                results.push(`get-data.php: ã‚¨ãƒ©ãƒ¼ - ${error.message}`);
            }
            
            // admin-stats.php ãƒ†ã‚¹ãƒˆ
            try {
                const response = await fetch('../api/admin-stats.php');
                const data = await response.json();
                results.push(`admin-stats.php: ${data.success ? 'æˆåŠŸ' : 'ã‚¨ãƒ©ãƒ¼ - ' + data.error}`);
            } catch (error) {
                results.push(`admin-stats.php: ã‚¨ãƒ©ãƒ¼ - ${error.message}`);
            }
            
            // admin-cards.php ãƒ†ã‚¹ãƒˆ
            try {
                const response = await fetch('../api/admin-cards.php');
                const data = await response.json();
                results.push(`admin-cards.php: ${data.success ? 'æˆåŠŸ' : 'ã‚¨ãƒ©ãƒ¼ - ' + data.error}`);
            } catch (error) {
                results.push(`admin-cards.php: ã‚¨ãƒ©ãƒ¼ - ${error.message}`);
            }
            
            alert('API ãƒ†ã‚¹ãƒˆçµæœ:\n\n' + results.join('\n'));
        }

        // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
        function showError(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorDisplay').style.display = 'block';
        }

        // ã‚¨ãƒ©ãƒ¼éè¡¨ç¤º
        function dismissError() {
            document.getElementById('errorDisplay').style.display = 'none';
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        window.addEventListener('DOMContentLoaded', initializeDashboard);

        // å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆ30ç§’ã”ã¨ï¼‰
        setInterval(loadDashboardData, 30000);
    </script>
</body>
</html>
